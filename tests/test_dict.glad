# test_dict.glad

# 1. Create a Dictionary
PRINTLN "--- Creating Dictionary ---"
LET my_dict = {
  "name": "GladLang",
  "version": 1.0,
  "is_awesome": 1  # 1 is TRUE
}

PRINTLN my_dict
# Expected: {'name': 'GladLang', 'version': 1.0, 'is_awesome': 1}

# 2. Access Values
PRINTLN ""
PRINTLN "--- Accessing Values ---"
PRINTLN "Name: " + my_dict["name"]
PRINTLN "Version: " + STR(my_dict["version"])

# 3. Modify Values
PRINTLN ""
PRINTLN "--- Modifying Values ---"
LET my_dict["version"] = 1.1
PRINTLN "New Version: " + STR(my_dict["version"])

# 4. Add New Key-Value Pairs
PRINTLN ""
PRINTLN "--- Adding New Keys ---"
LET my_dict["author"] = "You"
PRINTLN my_dict

# 5. Nested Dictionaries (if supported by recursion)
PRINTLN ""
PRINTLN "--- Nested Dictionary ---"
LET nested = {
  "meta": {
    "id": 101,
    "status": "active"
  },
  "data": [1, 2, 3]
}
PRINTLN nested["meta"]["status"]
# Expected: active

# 6. Dict Merging
LET defaults = {"theme": "dark", "vol": 50}
LET user_settings = {"vol": 100}
LET config = defaults + user_settings
PRINTLN "Merged Config: " + STR(config)
# Expected: {'theme': 'dark', 'vol': 100}

# 7. Iterate Dictionary (Keys)
PRINTLN "\n-- Dictionary Iteration --"
LET data = {"name": "Glad", "ver": 1}
FOR key IN data
    PRINTLN "Key: " + key + ", Value: " + STR(data[key])
ENDFOR
# Expected: Key: name..., Key: ver...

# 8. Dict Comprehension over Dict
PRINTLN "\n-- Dict -> List --"
LET values = [data[k] FOR k IN data]
PRINTLN "Values: " + STR(values)
# Expected: ['Glad', 1]