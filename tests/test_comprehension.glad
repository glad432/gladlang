LET numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

PRINTLN "Original: " + STR(numbers)

# Square every number
LET squares = [n ** 2 FOR n IN numbers]
PRINTLN "Squares: " + STR(squares)

# Strings
LET names = ["alex", "bob"]
LET greetings = ["Hello " + name FOR name IN names]
PRINTLN greetings

# Filter even numbers
LET evens = [x FOR x IN numbers IF x % 2 == 0]
PRINTLN "Evens: " + STR(evens)
# Expected: [2, 4, 6, 8, 10]

# Filter and modify
LET big_squares = [x * x FOR x IN numbers IF x > 5]
PRINTLN "Squares of nums > 5: " + STR(big_squares)
# Expected: [36, 49, 64, 81, 100]

# 3. Filtering Strings
LET words = ["apple", "banana", "kiwi", "pear", "grapefruit"]
LET long_words = [w FOR w IN words IF LEN(w) > 4]
PRINTLN "Long Words: " + STR(long_words)
# Expected: ['apple', 'banana', 'grapefruit']

# 4. Filter with Logic (Odd AND greater than 3)
LET complex_filter = [n FOR n IN numbers IF (n % 2 != 0) AND (n > 3)]
PRINTLN "Odd > 3:  " + STR(complex_filter)
# Expected: [5, 7, 9]

# 5. Flatten a 2D Matrix
LET matrix = [[1, 2], [3, 4]]
PRINTLN "Matrix: " + STR(matrix)

# Logic: FOR row IN matrix -> FOR num IN row -> yield num
LET flat = [num FOR row IN matrix FOR num IN row]
PRINTLN "Flattened: " + STR(flat)
# Expected: [1, 2, 3, 4]

# 6. Combinations (Cartesian Product)
LET colors = ["Red", "Blue"]
LET sizes = ["S", "M"]

# Logic: FOR c IN colors -> FOR s IN sizes -> yield c + "-" + s
LET products = [c + "-" + s FOR c IN colors FOR s IN sizes]
PRINTLN "Combinations: " + STR(products)
# Expected: ['Red-S', 'Red-M', 'Blue-S', 'Blue-M']

# 7. Nested with Filtering
# Get combinations, but skip Blue-S
LET filtered_products = [c + "-" + s FOR c IN colors FOR s IN sizes IF (c != "Blue") OR (s != "S")]
PRINTLN "Filtered: " + STR(filtered_products)
# Expected: ['Red-S', 'Red-M', 'Blue-M']