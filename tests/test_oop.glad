PRINTLN "--- OOP & Inheritance Tester ---"

# --- Consistency Check ---
CLASS Person
ENDCLASS
LET p1 = NEW Person()
LET p2 = p1
LET p3 = NEW Person()

PRINTLN "Ref Equality (True): " + STR(p1 == p2)
PRINTLN "Ref Equality (False): " + STR(p1 == p3)

# --- Define Base Class ---
CLASS Pet
  DEF Pet(name)
    THIS.name = name
    PRINTLN "A new pet is born!"
  ENDDEF
  
  DEF speak()
    PRINTLN THIS.name + " makes a generic pet sound."
  ENDDEF
ENDCLASS

# --- Define Subclass ---
CLASS Dog INHERITS Pet
  # This class automatically uses the 'init' from Pet
  
  # Override the 'speak' method
  DEF speak()
    PRINTLN THIS.name + " says: Woof!"
  ENDDEF
  
  # Add a new method
  DEF wag_tail()
    PRINTLN THIS.name + " wags its tail."
  ENDDEF
ENDCLASS

PRINTLN "--- Creating a Pet ---"
LET generic_pet = NEW Pet("Sammy")
generic_pet.speak()
# generic_pet.wag_tail() # This would (correctly) cause an error if uncommented

PRINTLN "--- Creating a Dog ---"
LET my_dog = NEW Dog("Buddy")
my_dog.speak()     # Should use the overridden method
my_dog.wag_tail()  # Should use the new method