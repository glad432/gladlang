PRINTLN "--- TEST 1: PUBLIC ACCESS ---"
CLASS PublicTest
  DEF PublicTest(val)
    THIS.val = val
  ENDDEF

  PUBLIC DEF get_val()
    RETURN THIS.val
  ENDDEF
ENDCLASS

LET p = NEW PublicTest(10)
PRINTLN "Public Variable: " + STR(p.val)       # Expected: 10
PRINTLN "Public Method: " + STR(p.get_val())   # Expected: 10


PRINTLN "\n--- TEST 2: PRIVATE ACCESS (METHODS) ---"
CLASS PrivateMethodTest
  DEF PrivateMethodTest()
  ENDDEF

  PRIVATE DEF secret()
    RETURN "I am secret"
  ENDDEF

  PUBLIC DEF access_secret()
    RETURN THIS.secret() # Allowed: Internal call
  ENDDEF
ENDCLASS

LET pm = NEW PrivateMethodTest()
PRINTLN "Internal Access: " + pm.access_secret() # Expected: I am secret

PRINTLN "Attempting External Access (Should Fail)..."
TRY
  PRINTLN pm.secret() 
CATCH error
  PRINTLN "CAUGHT ERROR: " + STR(error) # Expected: Cannot access private member 'secret'
ENDTRY


PRINTLN "\n--- TEST 3: PRIVATE ACCESS (ATTRIBUTES) ---"
CLASS PrivateAttrTest
  DEF PrivateAttrTest()
    PRIVATE THIS.secret_val = 999
    PUBLIC THIS.public_val = 1
  ENDDEF

  PUBLIC DEF get_secret()
    RETURN THIS.secret_val # Allowed: Internal access
  ENDDEF
ENDCLASS

LET pa = NEW PrivateAttrTest()
PRINTLN "Public Attr: " + STR(pa.public_val)     # Expected: 1
PRINTLN "Internal Attr Access: " + STR(pa.get_secret()) # Expected: 999

PRINTLN "Attempting External Attr Access (Should Fail)..."
TRY
  PRINTLN pa.secret_val
CATCH error
  PRINTLN "CAUGHT ERROR: " + STR(error) # Expected: Cannot access private member 'secret_val'
ENDTRY


PRINTLN "\n--- TEST 4: PROTECTED ACCESS (INHERITANCE) ---"
CLASS Parent
  DEF Parent()
  ENDDEF

  PROTECTED DEF family_secret()
    RETURN "Family Only"
  ENDDEF
ENDCLASS

CLASS Child INHERITS Parent
  DEF Child()
  ENDDEF

  PUBLIC DEF reveal()
    RETURN THIS.family_secret() # Allowed: Subclass access
  ENDDEF
ENDCLASS

LET c = NEW Child()
PRINTLN "Subclass Access: " + c.reveal() # Expected: Family Only

PRINTLN "Attempting External Protected Access (Should Fail)..."
TRY
  PRINTLN c.family_secret()
CATCH error
  PRINTLN "CAUGHT ERROR: " + STR(error) # Expected: Cannot access protected member 'family_secret'
ENDTRY

PRINTLN "\n--- TEST COMPLETE ---"