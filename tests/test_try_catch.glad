PRINTLN "--- Test 1: System Error (Division by Zero) ---"
TRY
    LET x = 10 / 0
CATCH err
    PRINTLN "Caught system error: " + err
FINALLY
    PRINTLN "Finally 1 executed."
ENDTRY


PRINTLN ""
PRINTLN "--- Test 2: Basic Throw (String) ---"
TRY
    PRINTLN "Throwing a simple string..."
    THROW "Something went wrong!"
CATCH msg
    PRINTLN "Caught message: " + msg
FINALLY
    PRINTLN "Finally 2 executed."
ENDTRY


PRINTLN ""
PRINTLN "--- Test 3: Advanced Throw (Object/Dictionary) ---"
TRY
    PRINTLN "Throwing a detailed error object..."
    
    # Define a dictionary with error details
    LET error_obj = {
        "code": 404,
        "type": "NotFound",
        "message": "The requested resource was missing"
    }
    
    THROW error_obj
CATCH e
    PRINTLN "Caught complex error object!"
    PRINTLN "Error Code: " + e["code"]
    PRINTLN "Error Type: " + e["type"]
    PRINTLN "Error Msg:  " + e["message"]
ENDTRY


PRINTLN ""
PRINTLN "--- Test 4: Scope Isolation Check ---"
# The variable 'e' from Test 3 should NOT exist here anymore.
# If we try to access it, it should throw a runtime error ("'e' is not defined").

TRY
    PRINTLN "Attempting to access catch variable 'e' outside scope..."
    PRINTLN e
CATCH accessErr
    PRINTLN "SUCCESS! Variable 'e' is not accessible here."
    PRINTLN "Error details: " + accessErr
ENDTRY